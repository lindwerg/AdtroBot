---
phase: 11-performance-ux-quick-wins
plan: 03
type: execute
wave: 2
depends_on: ["11-01"]
files_modified:
  - src/bot/handlers/horoscope.py
  - src/bot/keyboards/horoscope.py
  - src/bot/handlers/start.py
  - src/bot/utils/formatting.py
autonomous: true

must_haves:
  truths:
    - "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –û–±—â–∏–º –∏ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º –≥–æ—Ä–æ—Å–∫–æ–ø–æ–º –≤ –∫–Ω–æ–ø–∫–∞—Ö"
    - "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–≤–µ—Ç–∞ —á–µ—Ç–∫–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø –≥–æ—Ä–æ—Å–∫–æ–ø–∞"
    - "–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã"
    - "–ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç —Å–≤–æ–π –≥–æ—Ä–æ—Å–∫–æ–ø"
    - "Premium teaser –ø–æ–Ω—è—Ç–Ω–æ –æ–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å–∫–∏"
  artifacts:
    - path: "src/bot/keyboards/horoscope.py"
      provides: "–ö–Ω–æ–ø–∫–∏ —Å —Ä–∞–∑–ª–∏—á–∏–µ–º —Ç–∏–ø–æ–≤ –≥–æ—Ä–æ—Å–∫–æ–ø–∞"
      contains: "–û–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø"
    - path: "src/bot/handlers/horoscope.py"
      provides: "–†–∞–∑–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è —Ç–∏–ø–æ–≤ –≥–æ—Ä–æ—Å–∫–æ–ø–∞"
      contains: "–û–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è"
    - path: "src/bot/handlers/start.py"
      provides: "–ü–æ–∫–∞–∑ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –ø–æ—Å–ª–µ onboarding"
      contains: "show_horoscope_message"
  key_links:
    - from: "src/bot/handlers/start.py"
      to: "src/bot/handlers/horoscope.py"
      via: "import show_horoscope_message"
      pattern: "from src.bot.handlers.horoscope import show_horoscope_message"
---

<objective>
–£–ª—É—á—à–∏—Ç—å UX –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤: –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–∏–π/–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π, –ø–æ–Ω—è—Ç–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞ free->premium, —É–ª—É—á—à–µ–Ω–Ω—ã–π first forecast.

Purpose: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –∏ –≤–∏–¥–∏—Ç —á–µ—Ç–∫–∏–π –ø—É—Ç—å –∫ premium. –ü–µ—Ä–≤—ã–π –æ–ø—ã—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏—é.

Output: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å —Ç–∏–ø–∞–º–∏ –≥–æ—Ä–æ—Å–∫–æ–ø–∞, –ø–æ–Ω—è—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —É–ª—É—á—à–µ–Ω–Ω—ã–π onboarding flow.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-performance-ux-quick-wins/11-CONTEXT.md
@.planning/phases/11-performance-ux-quick-wins/11-RESEARCH.md
@.planning/phases/11-performance-ux-quick-wins/11-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤</name>
  <files>src/bot/handlers/horoscope.py</files>
  <action>
–û–±–Ω–æ–≤–∏—Ç—å `src/bot/handlers/horoscope.py` –¥–ª—è —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è —Ç–∏–ø–æ–≤ –≥–æ—Ä–æ—Å–∫–æ–ø–∞.

**–í —Ñ—É–Ω–∫—Ü–∏–∏ `show_zodiac_horoscope`:**

1. –î–ª—è premium —Å natal data (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π):
```python
header = f"{zodiac.emoji} –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è {zodiac.name_ru}"
```

2. –î–ª—è premium –±–µ–∑ natal data –∏–ª–∏ free user (–æ–±—â–∏–π):
```python
header = f"{zodiac.emoji} –û–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è {zodiac.name_ru}"
```

**–í —Ñ—É–Ω–∫—Ü–∏–∏ `show_horoscope_message`:**

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π: `f"{zodiac.emoji} –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è {zodiac.name_ru}"`
2. –û–±—â–∏–π: `f"{zodiac.emoji} –û–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è {zodiac.name_ru}"`

**–û–±–Ω–æ–≤–∏—Ç—å PREMIUM_TEASER:**

–ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç –Ω–∞ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π:

```python
PREMIUM_TEASER = """
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚≠ê –•–û–ß–ï–®–¨ –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ô –ü–†–û–ì–ù–û–ó?

–≠—Ç–æ –±—ã–ª –æ–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è –≤—Å–µ—Ö –û–≤–Ω–æ–≤.
–° –ø–æ–¥–ø–∏—Å–∫–æ–π —Ç—ã –ø–æ–ª—É—á–∏—à—å:

üîÆ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –ø–æ —Ç–≤–æ–µ–π –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ
‚ù§Ô∏è –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ —Å—Ñ–µ—Ä–∞–º: –ª—é–±–æ–≤—å, –∫–∞—Ä—å–µ—Ä–∞, —Ñ–∏–Ω–∞–Ω—Å—ã
üé¥ 20 —Ä–∞—Å–∫–ª–∞–¥–æ–≤ —Ç–∞—Ä–æ –≤ –¥–µ–Ω—å
‚≠ê –ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç (10 –∫–∞—Ä—Ç)

–í—Å–µ–≥–æ 299 ‚ÇΩ/–º–µ—Å ‚Äî –ø–æ–ø—Ä–æ–±—É–π!
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"""
```

–í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç—å "–û–≤–Ω–æ–≤" –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∑–Ω–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ f-string:
```python
PREMIUM_TEASER_TEMPLATE = """
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚≠ê –•–û–ß–ï–®–¨ –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ô –ü–†–û–ì–ù–û–ó?

–≠—Ç–æ –±—ã–ª –æ–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è –≤—Å–µ—Ö {zodiac_name_ru_genitive}.
...
"""
```

–î–ª—è —ç—Ç–æ–≥–æ:
1. –î–æ–±–∞–≤–∏—Ç—å genitive —Ñ–æ—Ä–º—ã –≤ zodiac.py –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nominative (–ø—Ä–æ—â–µ)
2. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ: "–≠—Ç–æ –±—ã–ª –æ–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è —Ç–≤–æ–µ–≥–æ –∑–Ω–∞–∫–∞."
  </action>
  <verify>
- Grep –¥–ª—è "–û–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø": `grep -n "–û–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø" src/bot/handlers/horoscope.py`
- Grep –¥–ª—è "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø": `grep -n "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø" src/bot/handlers/horoscope.py`
- Grep –¥–ª—è –Ω–æ–≤–æ–≥–æ teaser: `grep -n "–•–û–ß–ï–®–¨ –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ô" src/bot/handlers/horoscope.py`
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å: `python -c "from src.bot.handlers.horoscope import router"`
  </verify>
  <done>
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ —á–µ—Ç–∫–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç "–û–±—â–∏–π" –∏ "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π"
- PREMIUM_TEASER –æ–±—ä—è—Å–Ω—è–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏
- Handler –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
  </done>
</task>

<task type="auto">
  <name>Task 2: –£–ª—É—á—à–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ—Å–ª–µ onboarding</name>
  <files>src/bot/handlers/start.py</files>
  <action>
–û–±–Ω–æ–≤–∏—Ç—å `src/bot/handlers/start.py` ‚Äî –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –≤–º–µ—Å—Ç–æ mock.

**–í —Ñ—É–Ω–∫—Ü–∏–∏ `process_birthdate`:**

1. –£–¥–∞–ª–∏—Ç—å –≤—ã–∑–æ–≤ `get_mock_horoscope(zodiac.name)` –∏ `await message.answer(horoscope)`

2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `show_horoscope_message`:
```python
from src.bot.handlers.horoscope import show_horoscope_message
```

3. –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è zodiac –ø–æ–∫–∞–∑–∞—Ç—å –≥–æ—Ä–æ—Å–∫–æ–ø:
```python
# Show zodiac
await message.answer(f"‚ú® –¢–≤–æ–π –∑–Ω–∞–∫: {zodiac.emoji} {zodiac.name_ru}")

# Show real horoscope with explanation
await message.answer(
    "–í–æ—Ç —Ç–≤–æ–π –ø–µ—Ä–≤—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø!\n\n"
    "üí° –°–µ–π—á–∞—Å —Ç—ã –≤–∏–¥–∏—à—å –æ–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø –¥–ª—è –≤—Å–µ—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π —Ç–≤–æ–µ–≥–æ –∑–Ω–∞–∫–∞.\n"
    "–° Premium –ø–æ–¥–ø–∏—Å–∫–æ–π —Ç—ã –ø–æ–ª—É—á–∏—à—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑, "
    "—Å–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ —Ç–≤–æ–µ–π –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ."
)

# Show actual horoscope
await show_horoscope_message(message, zodiac.name, zodiac.name, session)
```

4. –£–¥–∞–ª–∏—Ç—å import `get_mock_horoscope` –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–í–ê–ñ–ù–û:**
- `show_horoscope_message` —É–∂–µ –≤–∫–ª—é—á–∞–µ—Ç premium teaser –¥–ª—è free users
- –ü–æ—Å–ª–µ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å notification prompt
- –£–±—Ä–∞—Ç—å —Å—Ç–∞—Ä—ã–π "–•–æ—á–µ—à—å –∫–∞—Ä—Ç—É –¥–Ω—è? –ù–∞–∂–º–∏ '–¢–∞—Ä–æ'" ‚Äî –≥–æ—Ä–æ—Å–∫–æ–ø —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω —Å –º–µ–Ω—é
  </action>
  <verify>
- Grep –¥–ª—è show_horoscope_message import: `grep -n "from src.bot.handlers.horoscope import" src/bot/handlers/start.py`
- Grep –¥–ª—è mock —É–¥–∞–ª–µ–Ω: `grep -n "get_mock_horoscope" src/bot/handlers/start.py` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ –∏–ª–∏ —Ç–æ–ª—å–∫–æ import –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–¥–µ-—Ç–æ)
- Grep –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è: `grep -n "–æ–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø" src/bot/handlers/start.py`
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å: `python -c "from src.bot.handlers.start import router"`
  </verify>
  <done>
- –ü–æ—Å–ª–µ onboarding –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø, –Ω–µ mock
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã –æ–±—â–∏–π/–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π
- –°—Ç–∞—Ä—ã–π mock horoscope —É–¥–∞–ª–µ–Ω –∏–∑ flow
  </done>
</task>

<task type="auto">
  <name>Task 3: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –¥–ª—è premium</name>
  <files>src/bot/keyboards/horoscope.py, src/bot/handlers/horoscope.py</files>
  <action>
**–í src/bot/keyboards/horoscope.py:**

–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ (–¥–ª—è premium users —Å natal data):

```python
def get_horoscope_type_keyboard(sign_name: str) -> InlineKeyboardMarkup:
    """Keyboard for choosing horoscope type (premium users only)."""
    return InlineKeyboardMarkup(inline_keyboard=[
        [
            InlineKeyboardButton(
                text="üåü –û–±—â–∏–π",
                callback_data=f"horo:general:{sign_name}",
            ),
            InlineKeyboardButton(
                text="üîÆ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π",
                callback_data=f"horo:personal:{sign_name}",
            ),
        ],
    ])
```

**–í src/bot/handlers/horoscope.py:**

1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π callback handler –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞:

```python
@router.callback_query(F.data.startswith("horo:"))
async def horoscope_type_selected(
    callback: CallbackQuery,
    session: AsyncSession,
) -> None:
    """Handle horoscope type selection."""
    parts = callback.data.split(":")
    if len(parts) != 3:
        await callback.answer("–û—à–∏–±–∫–∞", show_alert=True)
        return

    _, horo_type, sign_name = parts
    # ... –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ general –∏–ª–∏ personal horoscope
```

2. –í `show_zodiac_horoscope` –¥–ª—è premium users —Å natal data:
   - –í–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∫–∞–∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ
   - –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤—ã–±—Ä–∞–Ω)
   - –ò–õ–ò –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π) ‚Äî —ç—Ç–æ –ø—Ä–æ—â–µ

**–†–ï–®–ï–ù–ò–ï (–≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ):**

–í–∞—Ä–∏–∞–Ω—Ç A (–ø—Ä–æ—â–µ): –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî premium –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π.

–í–∞—Ä–∏–∞–Ω—Ç B (–ø–æ CONTEXT.md): –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –¥–ª—è premium users.

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í–∞—Ä–∏–∞–Ω—Ç A –ø—Ä–æ—â–µ –∏ UX –ª—É—á—à–µ (–º–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤ –¥–ª—è premium). –ö–Ω–æ–ø–∫–∏ "–û–±—â–∏–π/–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π" –º–æ–≥—É—Ç –∑–∞–ø—É—Ç–∞—Ç—å. Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–ø–ª–∞—Ç–∏–ª ‚Äî –¥–∞—Ç—å –µ–º—É –ª—É—á—à–µ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ï—Å–ª–∏ –í–∞—Ä–∏–∞–Ω—Ç A:**
- –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —á–µ—Ç–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–∏–ø (Task 1)
- –≠—Ç–æ—Ç task –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–£–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –í–∞—Ä–∏–∞–Ω—Ç A:**
–í `build_zodiac_keyboard` –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ ‚Äî –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø, –∫–Ω–æ–ø–∫–∞ –µ–≥–æ –∑–Ω–∞–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω–∞:

```python
# –í build_zodiac_keyboard, –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∑–Ω–∞–∫–∞:
text = f"üîÆ {zodiac.emoji}"  # –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π
# –∏–ª–∏
text = f"üåü {zodiac.emoji}"  # –û–±—â–∏–π
```

–≠—Ç–æ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏.

**–§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï:**
–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞. –ó–∞–≥–æ–ª–æ–≤–∫–∏ (Task 1) —É–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–∞–∑–Ω–∏—Ü—É. Premium –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π UX.
  </action>
  <verify>
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (–æ—Ç Task 1)
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å keyboards: `python -c "from src.bot.keyboards.horoscope import build_zodiac_keyboard"`
  </verify>
  <done>
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ —á–µ—Ç–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "–û–±—â–∏–π" vs "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π" (–∏–∑ Task 1)
- Premium –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø
- UX –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –∫–ª–∏–∫–æ–≤)
  </done>
</task>

</tasks>

<verification>
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ horoscope.py:
```bash
grep -E "(–û–±—â–∏–π|–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π) –≥–æ—Ä–æ—Å–∫–æ–ø" src/bot/handlers/horoscope.py
```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–π teaser:
```bash
grep -A5 "PREMIUM_TEASER" src/bot/handlers/horoscope.py
```

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å first forecast –≤ start.py:
```bash
grep -n "show_horoscope_message" src/bot/handlers/start.py
```

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã:
```bash
grep -n "–æ–±—â–∏–π –≥–æ—Ä–æ—Å–∫–æ–ø\|–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π" src/bot/handlers/start.py
```

5. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤:
```bash
python -c "
from src.bot.handlers.horoscope import router
from src.bot.handlers.start import router
from src.bot.keyboards.horoscope import build_zodiac_keyboard
print('All imports OK')
"
```
</verification>

<success_criteria>
- [ ] –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤ —Ä–∞–∑–ª–∏—á–∞—é—Ç "–û–±—â–∏–π" –∏ "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π"
- [ ] PREMIUM_TEASER –æ–±—ä—è—Å–Ω—è–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –ü–æ—Å–ª–µ onboarding –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø (–Ω–µ mock)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–±—â–∏–π/–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
- [ ] –í—Å–µ handlers –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
</success_criteria>

<output>
–ü–æ—Å–ª–µ completion —Å–æ–∑–¥–∞—Ç—å `.planning/phases/11-performance-ux-quick-wins/11-03-SUMMARY.md`
</output>
