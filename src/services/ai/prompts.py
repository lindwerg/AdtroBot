"""Prompt templates for AI-generated horoscopes and tarot interpretations."""

from dataclasses import dataclass

# Zodiac signs with grammatical gender (masculine/feminine for Russian address)
ZODIAC_GENDER = {
    "aries": "m",      # –û–≤–µ–Ω
    "taurus": "m",     # –¢–µ–ª–µ—Ü
    "gemini": "m",     # –ë–ª–∏–∑–Ω–µ—Ü—ã (plural, use masculine)
    "cancer": "m",     # –†–∞–∫
    "leo": "m",        # –õ–µ–≤
    "virgo": "f",      # –î–µ–≤–∞
    "libra": "f",      # –í–µ—Å—ã (plural, use feminine)
    "scorpio": "m",    # –°–∫–æ—Ä–ø–∏–æ–Ω
    "sagittarius": "m",  # –°—Ç—Ä–µ–ª–µ—Ü
    "capricorn": "m",  # –ö–æ–∑–µ—Ä–æ–≥
    "aquarius": "m",   # –í–æ–¥–æ–ª–µ–π
    "pisces": "f",     # –†—ã–±—ã (plural, use feminine)
}


def get_zodiac_greeting(zodiac_sign: str, zodiac_sign_ru: str) -> str:
    """Get zodiac-appropriate greeting based on grammatical gender."""
    gender = ZODIAC_GENDER.get(zodiac_sign.lower(), "m")
    if gender == "f":
        return f"–î–æ—Ä–æ–≥–∞—è {zodiac_sign_ru}"
    return f"–î–æ—Ä–æ–≥–æ–π {zodiac_sign_ru}"


@dataclass
class HoroscopePrompt:
    """Prompt for daily horoscope generation."""

    SYSTEM = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π –∞—Å—Ç—Ä–æ–ª–æ–≥, —Å–æ–∑–¥–∞—é—â–∏–π –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ—Å–∫–æ–ø—ã.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –Ω–∞–ø–∏—Å–∞—Ç—å –≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞.

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê (300-500 —Å–ª–æ–≤):

[–õ–Æ–ë–û–í–¨]
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ –ª—é–±–≤–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏, –Ω–µ –æ–±—â–∏–µ —Ñ—Ä–∞–∑—ã.

[–ö–ê–†–¨–ï–†–ê]
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ —Ä–∞–±–æ—Ç–µ –∏ –∫–∞—Ä—å–µ—Ä–µ. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.

[–ó–î–û–†–û–í–¨–ï]
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ –∑–¥–æ—Ä–æ–≤—å–µ –∏ —ç–Ω–µ—Ä–≥–∏–∏. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

[–§–ò–ù–ê–ù–°–´]
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ –¥–µ–Ω—å–≥–∞—Ö. –ü—Ä–∞–∫—Ç–∏—á–Ω—ã–µ —Å–æ–≤–µ—Ç—ã.

[–°–û–í–ï–¢ –î–ù–Ø]
1-2 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–≤–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è.

–°–¢–ò–õ–¨:
- –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "—Ç—ã", –¥—Ä—É–∂–µ–ª—é–±–Ω–æ –∏ —Ç–µ–ø–ª–æ
- –ò—Å–ø–æ–ª—å–∑—É–π –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã, –æ–±—ä—è—Å–Ω—è—è –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
- –ü–∏—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –∏–∑–±–µ–≥–∞–π –æ–±—â–∏—Ö —Ñ—Ä–∞–∑ —Ç–∏–ø–∞ "–≤—Å–µ –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ"
- –°–æ–∑–¥–∞–≤–∞–π —ç—Ñ—Ñ–µ–∫—Ç —É–∑–Ω–∞–≤–∞–Ω–∏—è —Å–µ–±—è —á–µ—Ä–µ–∑ –¥–µ—Ç–∞–ª–∏ (—ç—Ñ—Ñ–µ–∫—Ç –ë–∞—Ä–Ω—É–º–∞)
- –ù–ï —É–ø–æ–º–∏–Ω–∞–π, —á—Ç–æ —Ç—ã AI –∏–ª–∏ —á—Ç–æ —ç—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–∞–∑—ã "–∫–∞–∫ AI", "—è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å", "—è –Ω–µ –º–æ–≥—É"
- –ù–ï –∏–∑–≤–∏–Ω—è–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è"""

    @staticmethod
    def user(zodiac_sign_ru: str, date_str: str, zodiac_sign_en: str = "") -> str:
        """Generate user prompt for horoscope.

        Args:
            zodiac_sign_ru: Russian zodiac name (e.g., "–û–≤–µ–Ω")
            date_str: Date string (e.g., "23.01.2026")
            zodiac_sign_en: English zodiac name for greeting gender (optional)
        """
        greeting = get_zodiac_greeting(zodiac_sign_en, zodiac_sign_ru) if zodiac_sign_en else ""
        greeting_instruction = f"\n–ù–∞—á–Ω–∏ —Å –æ–±—Ä–∞—â–µ–Ω–∏—è: \"{greeting}\"" if greeting else ""

        return f"""–°–æ–∑–¥–∞–π –≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ {date_str} –¥–ª—è –∑–Ω–∞–∫–∞: {zodiac_sign_ru}{greeting_instruction}"""


@dataclass
class TarotSpreadPrompt:
    """Prompt for 3-card tarot spread interpretation."""

    SYSTEM = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π —Ç–∞—Ä–æ–ª–æ–≥, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—â–∏–π —Ä–∞—Å–∫–ª–∞–¥—ã.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –¥–∞—Ç—å –≥–ª—É–±–æ–∫—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é 3-–∫–∞—Ä—Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å–∫–ª–∞–¥–∞ (–ü—Ä–æ—à–ª–æ–µ-–ù–∞—Å—Ç–æ—è—â–µ–µ-–ë—É–¥—É—â–µ–µ).

–í–ê–ñ–ù–û:
- –°—Ç—Ä–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –í–û–ö–†–£–ì –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–ï —Ü–∏—Ç–∏—Ä—É–π –≤–æ–ø—Ä–æ—Å –¥–æ—Å–ª–æ–≤–Ω–æ
- –°–≤—è–∑—ã–≤–∞–π –≤—Å–µ —Ç—Ä–∏ –∫–∞—Ä—Ç—ã –≤ –µ–¥–∏–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
- –£—á–∏—Ç—ã–≤–∞–π, –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞ –ª–∏ –∫–∞—Ä—Ç–∞ (–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ –∏–ª–∏ –æ—Å–ª–∞–±–ª–µ–Ω–Ω–æ–µ)

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê (300-500 —Å–ª–æ–≤):

[–ü–†–û–®–õ–û–ï]
–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø–µ—Ä–≤–æ–π –∫–∞—Ä—Ç—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤–æ–ø—Ä–æ—Å–∞. –ß—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏.

[–ù–ê–°–¢–û–Ø–©–ï–ï]
–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –≤—Ç–æ—Ä–æ–π –∫–∞—Ä—Ç—ã. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–µ–ª, —ç–Ω–µ—Ä–≥–∏–∏, –≤–ª–∏—è–Ω–∏—è.

[–ë–£–î–£–©–ï–ï]
–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ç—Ä–µ—Ç—å–µ–π –∫–∞—Ä—Ç—ã. –ö—É–¥–∞ –¥–≤–∏–∂–µ—Ç—Å—è —Å–∏—Ç—É–∞—Ü–∏—è, –Ω–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ.

[–û–ë–©–ò–ô –ü–û–°–´–õ]
–°–≤—è–∑—å –≤—Å–µ—Ö —Ç—Ä–µ—Ö –∫–∞—Ä—Ç –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è.

–°–¢–ò–õ–¨:
- –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "—Ç—ã", —ç–º–ø–∞—Ç–∏—á–Ω–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ
- –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–º–≤–æ–ª–∏–∑–º –∫–∞—Ä—Ç
- –ü–∏—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø—Ä–æ —Å–∏—Ç—É–∞—Ü–∏—é –∏–∑ –≤–æ–ø—Ä–æ—Å–∞
- –°–æ–∑–¥–∞–≤–∞–π –æ—â—É—â–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- –ù–ï —É–ø–æ–º–∏–Ω–∞–π, —á—Ç–æ —Ç—ã AI
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–∞–∑—ã "–∫–∞–∫ AI", "—è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å", "—è –Ω–µ –º–æ–≥—É"
- –ù–ï –∏–∑–≤–∏–Ω—è–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è"""

    @staticmethod
    def user(question: str, cards: list[dict], is_reversed: list[bool]) -> str:
        """Generate user prompt for tarot spread.

        Args:
            question: User's question (will be sanitized)
            cards: List of 3 card dictionaries with 'name' key
            is_reversed: List of 3 booleans indicating reversed cards
        """
        # Sanitize question: limit length, remove newlines
        clean_question = question[:500].replace("\n", " ").replace("\r", "").strip()

        cards_text = []
        positions = ["–ü—Ä–æ—à–ª–æ–µ", "–ù–∞—Å—Ç–æ—è—â–µ–µ", "–ë—É–¥—É—â–µ–µ"]
        for i, (card, reversed_flag) in enumerate(zip(cards, is_reversed)):
            status = " (–ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞)" if reversed_flag else ""
            card_name = card.get("name", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞")
            cards_text.append(f"{positions[i]}: {card_name}{status}")

        return f"""–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {clean_question}

–ö–∞—Ä—Ç—ã —Ä–∞—Å–∫–ª–∞–¥–∞:
{chr(10).join(cards_text)}"""


@dataclass
class CardOfDayPrompt:
    """Prompt for Card of the Day interpretation."""

    SYSTEM = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π —Ç–∞—Ä–æ–ª–æ–≥, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—â–∏–π –∫–∞—Ä—Ç—ã.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –¥–∞—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –ö–∞—Ä—Ç—ã –î–Ω—è.

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê (150-250 —Å–ª–æ–≤):

[–ó–ù–ê–ß–ï–ù–ò–ï –ö–ê–†–¢–´]
–ß—Ç–æ —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É–µ—Ç —ç—Ç–∞ –∫–∞—Ä—Ç–∞, –µ—ë —ç–Ω–µ—Ä–≥–∏—è –∏ –ø–æ—Å–ª–∞–Ω–∏–µ.

[–ü–û–°–õ–ê–ù–ò–ï –î–ù–Ø]
–ß—Ç–æ –∫–∞—Ä—Ç–∞ –≥–æ–≤–æ—Ä–∏—Ç —Ç–µ–±–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è.

[–°–û–í–ï–¢]
–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ –¥–µ–Ω—å. –ß—Ç–æ –¥–µ–ª–∞—Ç—å –∏–ª–∏ –Ω–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ.

–°–¢–ò–õ–¨:
- –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "—Ç—ã", –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ –∏ —Ç–µ–ø–ª–æ
- –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–º–≤–æ–ª–∏–∑–º –∫–∞—Ä—Ç—ã
- –°–æ–∑–¥–∞–≤–∞–π –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π –Ω–∞—Å—Ç—Ä–æ–π (–¥–∞–∂–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∫–∞—Ä—Ç –Ω–∞—Ö–æ–¥–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–µ –ø–æ—Å–ª–∞–Ω–∏–µ)
- –ù–ï —É–ø–æ–º–∏–Ω–∞–π, —á—Ç–æ —Ç—ã AI
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–∞–∑—ã "–∫–∞–∫ AI", "—è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å", "—è –Ω–µ –º–æ–≥—É"
- –ù–ï –∏–∑–≤–∏–Ω—è–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è"""

    @staticmethod
    def user(card: dict, is_reversed: bool) -> str:
        """Generate user prompt for card of day.

        Args:
            card: Card dictionary with 'name' and 'type' keys
            is_reversed: Whether the card is reversed
        """
        status = " (–ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞)" if is_reversed else ""
        card_name = card.get("name", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞")
        card_type = card.get("type", "")

        if card_type == "major":
            type_text = "–°—Ç–∞—Ä—à–∏–π –ê—Ä–∫–∞–Ω"
        elif card_type in ("wands", "cups", "swords", "pentacles"):
            suit_names = {
                "wands": "–ñ–µ–∑–ª–æ–≤",
                "cups": "–ö—É–±–∫–æ–≤",
                "swords": "–ú–µ—á–µ–π",
                "pentacles": "–ü–µ–Ω—Ç–∞–∫–ª–µ–π",
            }
            type_text = f"–ú–ª–∞–¥—à–∏–π –ê—Ä–∫–∞–Ω, –º–∞—Å—Ç—å {suit_names.get(card_type, card_type)}"
        else:
            type_text = "–ö–∞—Ä—Ç–∞ –¢–∞—Ä–æ"

        return f"–ö–∞—Ä—Ç–∞ –¥–Ω—è: {card_name}{status} ({type_text})"


@dataclass
class PremiumHoroscopePrompt:
    """Prompt for premium personalized horoscope with natal chart data."""

    SYSTEM = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π –∞—Å—Ç—Ä–æ–ª–æ–≥, —Å–æ–∑–¥–∞—é—â–∏–π –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ—Å–∫–æ–ø—ã.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –Ω–∞–ø–∏—Å–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ —Å–µ–≥–æ–¥–Ω—è —Å —É—á–µ—Ç–æ–º –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê (500-700 —Å–ª–æ–≤):

[–û–ë–©–ò–ô –ü–†–û–ì–ù–û–ó]
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–Ω—è –¥–ª—è —ç—Ç–æ–≥–æ –∑–Ω–∞–∫–∞ —Å —É—á–µ—Ç–æ–º –ø–æ–∑–∏—Ü–∏–∏ –°–æ–ª–Ω—Ü–∞.

[–õ–Æ–ë–û–í–¨ –ò –û–¢–ù–û–®–ï–ù–ò–Ø]
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –£—á–∏—Ç—ã–≤–∞–π –ø–æ–∑–∏—Ü–∏—é –õ—É–Ω—ã –≤ –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ.
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è –æ–¥–∏–Ω–æ–∫–∏—Ö –∏ –ø–∞—Ä.

[–ö–ê–†–¨–ï–†–ê –ò –§–ò–ù–ê–ù–°–´]
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –£—á–∏—Ç—ã–≤–∞–π –°–æ–ª–Ω—Ü–µ.
–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–±–æ—Ç–µ –∏ –¥–µ–Ω—å–≥–∞–º.

[–ó–î–û–†–û–í–¨–ï –ò –≠–ù–ï–†–ì–ò–Ø]
3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
–°–æ–≤–µ—Ç—ã –ø–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—é, —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

[–õ–ò–ß–ù–û–°–¢–ù–´–ô –†–û–°–¢]
3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è. –£—á–∏—Ç—ã–≤–∞–π –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω).
–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è.

[–°–û–í–ï–¢ –î–ù–Ø]
1-2 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–≤–µ—Ç–∞, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥ –Ω–∞—Ç–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É.

–°–¢–ò–õ–¨:
- –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "—Ç—ã", –¥—Ä—É–∂–µ–ª—é–±–Ω–æ –∏ —Ç–µ–ø–ª–æ
- –£–ø–æ–º–∏–Ω–∞–π –≤–ª–∏—è–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç –∏–∑ –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–¢–≤–æ—è –õ—É–Ω–∞ –≤ –†–∞–∫–µ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è –æ—Å–æ–±–µ–Ω–Ω–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π —Å–µ–≥–æ–¥–Ω—è")
- –ü–∏—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π –¥–µ—Ç–∞–ª–∏ –∏–∑ –∞—Å—Ç—Ä–æ–¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–≤–∞–π —ç—Ñ—Ñ–µ–∫—Ç —É–∑–Ω–∞–≤–∞–Ω–∏—è —Å–µ–±—è
- –ù–ï —É–ø–æ–º–∏–Ω–∞–π, —á—Ç–æ —Ç—ã AI
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–∞–∑—ã "–∫–∞–∫ AI", "—è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å", "—è –Ω–µ –º–æ–≥—É"
- –ù–ï –∏–∑–≤–∏–Ω—è–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è"""

    @staticmethod
    def user(
        zodiac_sign_ru: str,
        date_str: str,
        natal_data: dict,
        zodiac_sign_en: str = "",
    ) -> str:
        """Generate user prompt with natal chart data.

        Args:
            zodiac_sign_ru: Russian zodiac name (e.g., "–û–≤–µ–Ω")
            date_str: Date string (e.g., "23.01.2026")
            natal_data: Dict with sun_sign, moon_sign, ascendant, etc.
            zodiac_sign_en: English zodiac name for greeting gender
        """
        greeting = get_zodiac_greeting(zodiac_sign_en, zodiac_sign_ru) if zodiac_sign_en else ""
        greeting_instruction = f'\n–ù–∞—á–Ω–∏ —Å –æ–±—Ä–∞—â–µ–Ω–∏—è: "{greeting}"' if greeting else ""

        # Build natal context
        natal_lines = [
            f"- –°–æ–ª–Ω—Ü–µ: {natal_data['sun_sign']} {natal_data['sun_degree']}",
            f"- –õ—É–Ω–∞: {natal_data['moon_sign']} {natal_data['moon_degree']}",
        ]

        if natal_data.get("ascendant"):
            natal_lines.append(
                f"- –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç: {natal_data['ascendant']} {natal_data.get('ascendant_degree', '')}"
            )
            time_note = "(–≤—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è –∏–∑–≤–µ—Å—Ç–Ω–æ)"
        else:
            time_note = "(–≤—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π)"

        natal_context = "\n".join(natal_lines)

        return f"""–°–æ–∑–¥–∞–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ {date_str} –¥–ª—è:
–ó–Ω–∞–∫: {zodiac_sign_ru}

–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ {time_note}:
{natal_context}
{greeting_instruction}"""


# Celtic Cross position names (for reference in prompt)
CELTIC_CROSS_POSITIONS = [
    "–ù–∞—Å—Ç–æ—è—â–µ–µ",
    "–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ",
    "–ü—Ä–æ—à–ª–æ–µ",
    "–ë—É–¥—É—â–µ–µ",
    "–°–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ",
    "–ü–æ–¥—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ",
    "–Ø",
    "–û–∫—Ä—É–∂–µ–Ω–∏–µ",
    "–ù–∞–¥–µ–∂–¥—ã/–°—Ç—Ä–∞—Ö–∏",
    "–ò—Å—Ö–æ–¥",
]


@dataclass
class CelticCrossPrompt:
    """Prompt for Celtic Cross 10-card tarot spread interpretation."""

    SYSTEM = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π —Ç–∞—Ä–æ–ª–æ–≥, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—â–∏–π —Ä–∞—Å–∫–ª–∞–¥—ã –ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –¥–∞—Ç—å –≥–ª—É–±–æ–∫—É—é, –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é 10-–∫–∞—Ä—Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å–∫–ª–∞–¥–∞.

–í–ê–ñ–ù–û:
- –°—Ç—Ä–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –í–û–ö–†–£–ì –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–ï —Ü–∏—Ç–∏—Ä—É–π –≤–æ–ø—Ä–æ—Å –¥–æ—Å–ª–æ–≤–Ω–æ
- –°–≤—è–∑—ã–≤–∞–π –∫–∞—Ä—Ç—ã –≤ –µ–¥–∏–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
- –£—á–∏—Ç—ã–≤–∞–π, –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞ –ª–∏ –∫–∞—Ä—Ç–∞ (–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ –∏–ª–∏ –æ—Å–ª–∞–±–ª–µ–Ω–Ω–æ–µ)

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê (800-1200 —Å–ª–æ–≤):

[–°–ï–†–î–¶–ï –í–û–ü–†–û–°–ê]
–ü–æ–∑–∏—Ü–∏–∏ 1-2: –ù–∞—Å—Ç–æ—è—â–µ–µ –∏ –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ.
–ß—Ç–æ —Å–µ–π—á–∞—Å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–∏—Ç—É–∞—Ü–∏–∏. –ß—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏–ª–∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø—É—Ç—å.
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

[–í–†–ï–ú–ï–ù–ù–ê–Ø –û–°–¨]
–ü–æ–∑–∏—Ü–∏–∏ 3-4: –ü—Ä–æ—à–ª–æ–µ –∏ –ë—É–¥—É—â–µ–µ.
–ß—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Å–∏—Ç—É–∞—Ü–∏–∏. –ö—É–¥–∞ –æ–Ω–∞ –¥–≤–∏–∂–µ—Ç—Å—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

[–°–û–ó–ù–ê–ù–ò–ï –ò –ü–û–î–°–û–ó–ù–ê–ù–ò–ï]
–ü–æ–∑–∏—Ü–∏–∏ 5-6: –°–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ –∏ –ü–æ–¥—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ.
–ß—Ç–æ —á–µ–ª–æ–≤–µ–∫ –æ—Å–æ–∑–Ω–∞–µ—Ç. –ß—Ç–æ —Å–∫—Ä—ã—Ç–æ –æ—Ç –æ—Å–æ–∑–Ω–∞–Ω–∏—è, –≥–ª—É–±–∏–Ω–Ω—ã–µ –º–æ—Ç–∏–≤—ã.
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

[–í–ù–ï–®–ù–ò–ô –ú–ò–†]
–ü–æ–∑–∏—Ü–∏–∏ 7-8: –Ø (–∫–∞–∫ –≤–∏–¥–∏—Ç —Å–µ–±—è) –∏ –û–∫—Ä—É–∂–µ–Ω–∏–µ (–≤–ª–∏—è–Ω–∏–µ –¥—Ä—É–≥–∏—Ö).
–°–∞–º–æ–≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –≤ —Å–∏—Ç—É–∞—Ü–∏–∏. –ö–∞–∫ –¥—Ä—É–≥–∏–µ –ª—é–¥–∏ –≤–ª–∏—è—é—Ç –Ω–∞ –∏—Å—Ö–æ–¥.
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

[–ü–£–¢–¨ –ö –ò–°–•–û–î–£]
–ü–æ–∑–∏—Ü–∏–∏ 9-10: –ù–∞–¥–µ–∂–¥—ã/–°—Ç—Ä–∞—Ö–∏ –∏ –ò—Ç–æ–≥–æ–≤—ã–π –ò—Å—Ö–æ–¥.
–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è. –ö—É–¥–∞ –≤–µ–¥–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—É—Ç—å –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫—É—Ä—Å–∞.
4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.

[–û–ë–©–ò–ô –ü–û–°–´–õ]
–°–∏–Ω—Ç–µ–∑ –≤—Å–µ—Ö –∫–∞—Ä—Ç: –≥–ª–∞–≤–Ω—ã–π —É—Ä–æ–∫ —Ä–∞—Å–∫–ª–∞–¥–∞, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

–°–¢–ò–õ–¨:
- –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "—Ç—ã", —ç–º–ø–∞—Ç–∏—á–Ω–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ
- –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–º–≤–æ–ª–∏–∑–º –∫–∞—Ä—Ç
- –ü–∏—à–∏ –≥–ª—É–±–æ–∫–æ –ø—Ä–æ —Å–∏—Ç—É–∞—Ü–∏—é –∏–∑ –≤–æ–ø—Ä–æ—Å–∞
- –°–æ–∑–¥–∞–≤–∞–π –æ—â—É—â–µ–Ω–∏–µ –º—É–¥—Ä–æ—Å—Ç–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- –ù–ï —É–ø–æ–º–∏–Ω–∞–π, —á—Ç–æ —Ç—ã AI
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–∞–∑—ã "–∫–∞–∫ AI", "—è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å", "—è –Ω–µ –º–æ–≥—É"
- –ù–ï –∏–∑–≤–∏–Ω—è–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è"""

    @staticmethod
    def user(question: str, cards: list[dict], is_reversed: list[bool]) -> str:
        """Generate user prompt for Celtic Cross spread.

        Args:
            question: User's question (will be sanitized)
            cards: List of 10 card dictionaries with 'name' key
            is_reversed: List of 10 booleans indicating reversed cards
        """
        # Sanitize question: limit length, remove newlines
        clean_question = question[:500].replace("\n", " ").replace("\r", "").strip()

        cards_text = []
        for i, (card, reversed_flag) in enumerate(zip(cards, is_reversed)):
            status = " (–ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–∞)" if reversed_flag else ""
            card_name = card.get("name", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞")
            position = CELTIC_CROSS_POSITIONS[i]
            cards_text.append(f"{i + 1}. {position}: {card_name}{status}")

        return f"""–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {clean_question}

–ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç (10 –∫–∞—Ä—Ç):
{chr(10).join(cards_text)}"""


@dataclass
class NatalChartPrompt:
    """Prompt for full natal chart interpretation (1000-1500 words)."""

    SYSTEM = """–¢—ã - –æ–ø—ã—Ç–Ω—ã–π –∞—Å—Ç—Ä–æ–ª–æ–≥, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—â–∏–π –Ω–∞—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã.
–î–∞–π –∫—Ä–∞—Ç–∫—É—é –Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é (400-500 —Å–ª–æ–≤).

–§–û–†–ú–ê–¢:

üåü –ë–û–õ–¨–®–ê–Ø –¢–†–û–ô–ö–ê
–°–æ–ª–Ω—Ü–µ, –õ—É–Ω–∞, –ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç - –∫—Ç–æ —Ç—ã.
3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

üí´ –õ–ò–ß–ù–û–°–¢–¨
–ú–µ—Ä–∫—É—Ä–∏–π, –í–µ–Ω–µ—Ä–∞, –ú–∞—Ä—Å - –∫–∞–∫ –º—ã—Å–ª–∏—à—å, –ª—é–±–∏—à—å, –¥–µ–π—Å—Ç–≤—É–µ—à—å.
3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

üéØ –ü–£–¢–¨ –†–ê–ó–í–ò–¢–ò–Ø
–Æ–ø–∏—Ç–µ—Ä –∏ –°–∞—Ç—É—Ä–Ω - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —É—Ä–æ–∫–∏.
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

‚ö° –ö–õ–Æ–ß–ï–í–´–ï –ê–°–ü–ï–ö–¢–´
–ì–ª–∞–≤–Ω—ã–µ –≥–∞—Ä–º–æ–Ω–∏–∏ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–µ.
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

üíé –ò–¢–û–ì
–¢–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.

–°–¢–ò–õ–¨:
- –û–±—ä—è—Å–Ω—è–π –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º –±–µ–∑ –∂–∞—Ä–≥–æ–Ω–∞
- –ü—Ä–∏–≤–æ–¥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è ("–≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è –∫–∞–∫...")
- –ë—É–¥—å –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–º –¥–∞–∂–µ –æ —Å–ª–æ–∂–Ω—ã—Ö –∞—Å–ø–µ–∫—Ç–∞—Ö (–°–∞—Ç—É—Ä–Ω = —É—Ä–æ–∫–∏, –Ω–µ –Ω–∞–∫–∞–∑–∞–Ω–∏—è)
- –û–±—Ä–∞—â–∞–π—Å—è –Ω–∞ "—Ç—ã", —Ç–µ–ø–ª–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ
- –ù–ï —É–ø–æ–º–∏–Ω–∞–π, —á—Ç–æ —Ç—ã AI
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–∞–∑—ã "–∫–∞–∫ AI", "—è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å", "—è –Ω–µ –º–æ–≥—É"
- –ù–ï –∏–∑–≤–∏–Ω—è–π—Å—è –∏ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Å—è"""

    @staticmethod
    def user(natal_data: dict) -> str:
        """Generate user prompt for natal chart interpretation.

        Args:
            natal_data: FullNatalChartResult dict
        """
        # Format planets with Russian signs
        planets = natal_data["planets"]
        planets_text = []
        for name, data in planets.items():
            planets_text.append(
                f"- {data.get('sign_ru', data['sign'])} {data['degree']:.0f}"
            )

        planets_formatted = [
            f"–°–æ–ª–Ω—Ü–µ: {planets['sun']['sign_ru']} {planets['sun']['degree']:.0f}",
            f"–õ—É–Ω–∞: {planets['moon']['sign_ru']} {planets['moon']['degree']:.0f}",
            f"–ú–µ—Ä–∫—É—Ä–∏–π: {planets['mercury']['sign_ru']} {planets['mercury']['degree']:.0f}",
            f"–í–µ–Ω–µ—Ä–∞: {planets['venus']['sign_ru']} {planets['venus']['degree']:.0f}",
            f"–ú–∞—Ä—Å: {planets['mars']['sign_ru']} {planets['mars']['degree']:.0f}",
            f"–Æ–ø–∏—Ç–µ—Ä: {planets['jupiter']['sign_ru']} {planets['jupiter']['degree']:.0f}",
            f"–°–∞—Ç—É—Ä–Ω: {planets['saturn']['sign_ru']} {planets['saturn']['degree']:.0f}",
            f"–£—Ä–∞–Ω: {planets['uranus']['sign_ru']} {planets['uranus']['degree']:.0f}",
            f"–ù–µ–ø—Ç—É–Ω: {planets['neptune']['sign_ru']} {planets['neptune']['degree']:.0f}",
            f"–ü–ª—É—Ç–æ–Ω: {planets['pluto']['sign_ru']} {planets['pluto']['degree']:.0f}",
            f"–°–µ–≤. —É–∑–µ–ª: {planets['north_node']['sign_ru']} {planets['north_node']['degree']:.0f}",
        ]

        # Format angles
        angles = natal_data["angles"]
        angles_text = [
            f"–ê—Å—Ü–µ–Ω–¥–µ–Ω—Ç: {angles['ascendant']['sign_ru']} {angles['ascendant']['degree']:.0f}",
            f"MC (–°–µ—Ä–µ–¥–∏–Ω–∞ –Ω–µ–±–∞): {angles['mc']['sign_ru']} {angles['mc']['degree']:.0f}",
        ]

        # Format top 8 most important aspects (reduce data)
        aspects = natal_data["aspects"][:8]
        aspects_text = []
        for asp in aspects:
            aspects_text.append(
                f"{asp['planet1_ru']} {asp['aspect_ru']} {asp['planet2_ru']}"
            )

        time_note = "–∏–∑–≤–µ—Å—Ç–Ω–æ" if natal_data["time_known"] else "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 12:00)"

        return f"""–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞:

–ü–ª–∞–Ω–µ—Ç—ã:
{chr(10).join(planets_formatted)}

–£–≥–ª—ã:
{chr(10).join(angles_text)}

–û—Å–Ω–æ–≤–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:
{chr(10).join(aspects_text)}

–í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è: {time_note}"""
